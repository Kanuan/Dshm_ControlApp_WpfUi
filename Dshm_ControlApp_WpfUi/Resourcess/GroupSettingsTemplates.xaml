<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:devmvvm="clr-namespace:Nefarius.DsHidMini.ControlApp.MVVM"
    xmlns:helpers="clr-namespace:Nefarius.DsHidMini.ControlApp.Helpers.WPF"
    xmlns:system="clr-namespace:System;assembly=mscorlib"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:wpf="clr-namespace:Nefarius.DsHidMini.ControlApp.Util.WPF">
    <!--  Add Resources Here  -->
    <!--  LED Group  DataContext="{Binding $parent[DockPanel].DataContext}" Settings  -->
    <wpf:VisibilityPerHidModeConverter x:Key="VisibilityPerHIDModeConverterKey" />
    <helpers:BooleanToVisibilityConverter
        x:Key="BoolToVisConverter_TCollapsed_FVisible"
        False="Visible"
        True="Collapsed" />
    <BooleanToVisibilityConverter x:Key="BoolToVis" />

    <DataTemplate x:Key="Template_LEDsSettings" DataType="{x:Type devmvvm:GroupLEDsCustomsVM}">
        <ContentControl>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <!--  LEDs mode selection  -->
                <ui:ToggleSwitch
                    Grid.Row="0"
                    Content="Allow apps and games to control LEDs"
                    IsChecked="{Binding AllowLedsOverride}" />
                <Label
                    Grid.Row="1"
                    VerticalAlignment="Center"
                    Content="LEDs control mode:" />
                <ComboBox
                    x:Name="LEDModeComboBox"
                    Grid.Row="1"
                    Grid.Column="1"
                    VerticalAlignment="Center"
                    SelectedIndex="{Binding LEDMode}">
                    <ComboBoxItem Content="Battery level (single led)" />
                    <ComboBoxItem Content="Battery level (filling bar)" />
                    <ComboBoxItem Content="Custom (simple)" />
                    <ComboBoxItem Content="Custom (advanced)" />
                </ComboBox>
                <TabControl
                    Grid.Row="2"
                    Grid.ColumnSpan="2"
                    HorizontalAlignment="Stretch"
                    SelectedIndex="{Binding SelectedIndex, ElementName=LEDModeComboBox}">
                    <!--  Index 0: LEDs as battery - single led  -->
                    <TabItem Visibility="Hidden" />
                    <!--  Index 1: LEDs as battery - filling bar  -->
                    <TabItem Visibility="Hidden" />
                    <!--  Index 2: LEDs custom simple  -->
                    <TabItem
                        Width="50"
                        VerticalContentAlignment="Center"
                        Visibility="Hidden">
                        <ContentControl MaxWidth="120">
                            <UniformGrid Columns="4">
                                <CheckBox IsChecked="{Binding Leds_VM[0].IsEnabled}" />
                                <CheckBox IsChecked="{Binding Leds_VM[1].IsEnabled}" />
                                <CheckBox IsChecked="{Binding Leds_VM[2].IsEnabled}" />
                                <CheckBox IsChecked="{Binding Leds_VM[3].IsEnabled}" />
                            </UniformGrid>
                        </ContentControl>
                        <!--  Index 3: LEDs custom advanced  -->
                    </TabItem>
                    <TabItem Visibility="Hidden">
                        <StackPanel>
                            <!--  Select LED to customize  -->
                            <TabControl HorizontalAlignment="Center" SelectedIndex="{Binding CurrentLEDCustomsIndex}">
                                <TabItem Width="50" Header="1" />
                                <TabItem Width="50" Header="2" />
                                <TabItem Width="50" Header="3" />
                                <TabItem Width="50" Header="4" />
                            </TabControl>
                            <!--  LED fine tuning  -->
                            <DockPanel DataContext="{Binding SelectedLED_VM}">
                                <ui:ToggleSwitch
                                    Content="Enable LED"
                                    DockPanel.Dock="Top"
                                    IsChecked="{Binding IsEnabled}" />
                                <ui:ToggleSwitch
                                    x:Name="UseLEDEffects_Checkbox"
                                    Content="Use advanced effects"
                                    DockPanel.Dock="Top"
                                    IsChecked="{Binding UseEffects}" />
                                <Grid DockPanel.Dock="Top" IsEnabled="{Binding IsChecked, ElementName=UseLEDEffects_Checkbox}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="3*" />
                                        <ColumnDefinition />
                                    </Grid.ColumnDefinitions>
                                    <ui:TextBlock
                                        Grid.Row="0"
                                        Grid.Column="0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Text="Duration:"
                                        TextWrapping="Wrap" />
                                    <Slider
                                        Grid.Row="0"
                                        Grid.Column="1"
                                        VerticalAlignment="Center"
                                        Maximum="255"
                                        Minimum="0"
                                        Value="{Binding Duration}" />
                                    <ui:TextBlock
                                        Grid.Row="0"
                                        Grid.Column="2"
                                        Text="{Binding Duration}" />
                                    <ui:TextBlock
                                        Grid.Row="1"
                                        Grid.Column="0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Text="Interval duration:"
                                        TextWrapping="Wrap" />
                                    <Slider
                                        Grid.Row="1"
                                        Grid.Column="1"
                                        VerticalAlignment="Center"
                                        ClipToBounds="True"
                                        Maximum="65535"
                                        Minimum="0"
                                        Value="{Binding IntervalDuration}" />
                                    <ui:TextBlock
                                        Grid.Row="1"
                                        Grid.Column="2"
                                        Text="{Binding IntervalDuration}" />
                                    <ui:TextBlock
                                        Grid.Row="2"
                                        Grid.Column="0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Text="Interval ON portion:"
                                        TextWrapping="Wrap" />
                                    <ui:NumberBox
                                        Grid.Row="2"
                                        Grid.Column="1"
                                        VerticalAlignment="Center"
                                        ClipToBounds="True"
                                        Maximum="254"
                                        Minimum="0"
                                        Text="{Binding IntervalPortionON}"
                                        ToolTip="{Binding Value, RelativeSource={RelativeSource Self}}" />
                                    <ui:TextBlock
                                        Grid.Row="2"
                                        Grid.Column="2"
                                        Text="{Binding IntervalPortionON}" />
                                    <ui:TextBlock
                                        Grid.Row="3"
                                        Grid.Column="0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Text="Interval OFF portion:"
                                        TextWrapping="Wrap" />
                                    <Slider
                                        Grid.Row="3"
                                        Grid.Column="1"
                                        VerticalAlignment="Center"
                                        ClipToBounds="True"
                                        Maximum="254"
                                        Minimum="0"
                                        Value="{Binding IntervalPortionOFF}" />
                                    <ui:TextBlock
                                        Grid.Row="3"
                                        Grid.Column="2"
                                        Text="{Binding IntervalPortionOFF}" />
                                </Grid>
                            </DockPanel>
                        </StackPanel>
                    </TabItem>
                </TabControl>
            </Grid>
        </ContentControl>


    </DataTemplate>

    <!--  Basic wireless settings  -->
    <DataTemplate x:Key="Template_WirelessSettings" DataType="devmvvm:GroupWirelessSettingsVM">
        <DockPanel>
            <!--  Idle disconnect  -->
            <ui:ToggleSwitch
                x:Name="IdleDisconnectEnableCheckbox"
                Content="Disconnect the controller after idle period"
                DockPanel.Dock="Top"
                IsChecked="{Binding IsWirelessIdleDisconnectEnabled}" />
            <DockPanel DockPanel.Dock="Top">
                <Label
                    VerticalAlignment="Center"
                    Content="Idle disconnect period (in minutes):"
                    DockPanel.Dock="Left" />
                <Label
                    VerticalAlignment="Center"
                    VerticalContentAlignment="Center"
                    Content="{Binding WirelessIdleDisconnectTime}"
                    DockPanel.Dock="Left" />
                <Slider
                    AutoToolTipPlacement="TopLeft"
                    DockPanel.Dock="Left"
                    IsEnabled="{Binding IsChecked, ElementName=IdleDisconnectEnableCheckbox}"
                    IsSnapToTickEnabled="True"
                    Maximum="60"
                    Minimum="1"
                    TickFrequency="1"
                    Value="{Binding WirelessIdleDisconnectTime}" />
            </DockPanel>
            <ui:ToggleSwitch
                x:Name="EnableQuickDisconnectComboCheckbox"
                Content="Enable quick disconnect combo"
                DockPanel.Dock="Top"
                IsChecked="{Binding IsQuickDisconnectComboEnabled}" />
            <!--  Quick disconnect combo selection  -->
            <DockPanel DockPanel.Dock="Top" LastChildFill="False">
                <!--  DataContext="{Binding QuickDisconnectCombo}"  -->
                <Label
                    VerticalAlignment="Center"
                    Content="Quick disconnect combo:"
                    DockPanel.Dock="Left" />
                <!--  Change ComboBox later so it's binding to a enum  -->
                <ComboBox
                    Width="80"
                    DockPanel.Dock="Left"
                    IsEnabled="{Binding IsChecked, ElementName=EnableQuickDisconnectComboCheckbox}"
                    ItemsSource="{Binding Source={wpf:EnumBindingSource {x:Type devmvvm:ControlApp_ComboButtons}}}"
                    SelectedItem="{Binding QuickDisconnectComboButton1}"
                    Text="{Binding QuickDisconnectComboButton1}" />
                <ComboBox
                    Width="80"
                    DockPanel.Dock="Left"
                    IsEnabled="{Binding IsChecked, ElementName=EnableQuickDisconnectComboCheckbox}"
                    ItemsSource="{Binding Source={wpf:EnumBindingSource {x:Type devmvvm:ControlApp_ComboButtons}}}"
                    SelectedItem="{Binding QuickDisconnectComboButton2}"
                    Text="{Binding QuickDisconnectComboButton2}" />
                <ComboBox
                    Width="80"
                    DockPanel.Dock="Left"
                    IsEnabled="{Binding IsChecked, ElementName=EnableQuickDisconnectComboCheckbox}"
                    ItemsSource="{Binding Source={wpf:EnumBindingSource {x:Type devmvvm:ControlApp_ComboButtons}}}"
                    SelectedItem="{Binding QuickDisconnectComboButton3}"
                    Text="{Binding QuickDisconnectComboButton3}" />
                <ui:NumberBox
                    ClearButtonEnabled="False"
                    Maximum="5"
                    Minimum="0"
                    Text="{Binding QuickDisconnectComboHoldTime}"
                    Value="{Binding QuickDisconnectComboHoldTime}" />
            </DockPanel>
        </DockPanel>
    </DataTemplate>

    <!--  Template draft  -->
    <DataTemplate x:Key="Template_ToDo">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Label
                Grid.Row="0"
                Grid.Column="0"
                VerticalAlignment="Center"
                Content="Fill 1" />
            <Label
                Grid.Row="1"
                Grid.Column="0"
                VerticalAlignment="Center"
                Content="Fill 2" />
        </Grid>
    </DataTemplate>

    <!--  Template: sticks deadzone  -->
    <DataTemplate x:Key="Template_SticksDeadZone">
        <DockPanel>
            <!--  Grid test  -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="4*" />
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="2*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <!--  Row 0: Labels  -->
                <Label
                    Grid.Row="0"
                    Grid.Column="1"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Content="Left Stick" />
                <Label
                    Grid.Row="0"
                    Grid.Column="2"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Content="Right Stick" />
                <!--  Row 1: DeadZone  -->
                <Label
                    Grid.Row="1"
                    Grid.Column="0"
                    HorizontalContentAlignment="Left"
                    VerticalContentAlignment="Center"
                    Content="DeadZone (%):" />
                <ui:NumberBox
                    Grid.Row="1"
                    Grid.Column="1"
                    ClearButtonEnabled="False"
                    ClipToBounds="True"
                    Maximum="142"
                    Minimum="0"
                    Value="{Binding LeftStickDeadZone}" />
                <ui:NumberBox
                    Grid.Row="1"
                    Grid.Column="2"
                    ClearButtonEnabled="False"
                    ClipToBounds="True"
                    Maximum="142"
                    Minimum="0"
                    Value="{Binding RightStickDeadZone}" />
                <!--  Row 2: Invert X  -->
                <Label
                    Grid.Row="2"
                    Grid.Column="0"
                    HorizontalContentAlignment="Left"
                    VerticalContentAlignment="Center"
                    Content="Invert horizontally (X-Axis):" />
                <ui:ToggleSwitch
                    Grid.Row="2"
                    Grid.Column="1"
                    HorizontalAlignment="Center"
                    IsChecked="{Binding InvertLSX}" />
                <ui:ToggleSwitch
                    Grid.Row="2"
                    Grid.Column="2"
                    HorizontalAlignment="Center"
                    IsChecked="{Binding InvertRSX}" />
                <!--  Row 3: Invert Y  -->
                <Label
                    Grid.Row="3"
                    Grid.Column="0"
                    HorizontalContentAlignment="Left"
                    VerticalContentAlignment="Center"
                    Content="Invert vertically (Y-Axis):" />
                <ui:ToggleSwitch
                    Grid.Row="3"
                    Grid.Column="1"
                    HorizontalAlignment="Center"
                    IsChecked="{Binding InvertLSY}" />
                <ui:ToggleSwitch
                    Grid.Row="3"
                    Grid.Column="2"
                    HorizontalAlignment="Center"
                    IsChecked="{Binding InvertRSY}" />
            </Grid>
        </DockPanel>
    </DataTemplate>

    <!--  Rumble template  -->
    <DataTemplate x:Key="Template_RumbleBasicFunctions" DataType="devmvvm:GroupRumbleGeneralVM">
        <DockPanel>
            <ui:ToggleSwitch
                Content="Enable alternative mode"
                DockPanel.Dock="Top"
                IsChecked="{Binding IsAltModeEnabled}" />
            <DockPanel Visibility="{Binding IsAltModeEnabled, Converter={StaticResource BoolToVisConverter_TCollapsed_FVisible}}">
                <!--  Rumble motors disablers  -->
                <ui:ToggleSwitch
                    Content="Disable left motor (heavy)"
                    DockPanel.Dock="Top"
                    IsChecked="{Binding IsLeftMotorDisabled}" />
                <ui:ToggleSwitch
                    Content="Disable right motor (small)"
                    DockPanel.Dock="Top"
                    IsChecked="{Binding IsRightMotorDisabled}" />
            </DockPanel>
            <DockPanel Visibility="{Binding IsAltModeEnabled, Converter={StaticResource BoolToVis}}">
                <!--  Variable light rumble emulation enabler  -->
                <ui:ToggleSwitch
                    x:Name="EnableAltModeToggleButtonCombo"
                    Content="Toggle alternative rumble mode via button combo"
                    DockPanel.Dock="Top"
                    IsChecked="{Binding IsAltModeToggleButtonComboEnabled}" />
                <DockPanel
                    DockPanel.Dock="Top"
                    IsEnabled="{Binding IsChecked, ElementName=EnableAltModeToggleButtonCombo}"
                    LastChildFill="False">
                    <!--  DataContext="{Binding VariableRightEmulToggleCombo}"  -->
                    <Label
                        VerticalAlignment="Center"
                        Content="Toogle combo:"
                        DockPanel.Dock="Left" />
                    <!--  Change ComboBox later so it's binding to a enum  -->
                    <ComboBox
                        Width="80"
                        DockPanel.Dock="Left"
                        ItemsSource="{Binding Source={wpf:EnumBindingSource {x:Type devmvvm:ControlApp_ComboButtons}}}"
                        SelectedItem="{Binding AltModeToggleButttonCombo_Button1}"
                        Text="{Binding AltModeToggleButttonCombo_Button1}" />
                    <ComboBox
                        Width="80"
                        DockPanel.Dock="Left"
                        ItemsSource="{Binding Source={wpf:EnumBindingSource {x:Type devmvvm:ControlApp_ComboButtons}}}"
                        SelectedItem="{Binding AltModeToggleButttonCombo_Button2}"
                        Text="{Binding AltModeToggleButttonCombo_Button2}" />
                    <ComboBox
                        Width="80"
                        DockPanel.Dock="Left"
                        ItemsSource="{Binding Source={wpf:EnumBindingSource {x:Type devmvvm:ControlApp_ComboButtons}}}"
                        SelectedItem="{Binding AltModeToggleButttonCombo_Button3}"
                        Text="{Binding AltModeToggleButttonCombo_Button3}" />
                    <ui:NumberBox
                        ClearButtonEnabled="False"
                        Maximum="5"
                        Minimum="1"
                        Text="{Binding AltModeToggleComboHoldTime}"
                        Value="{Binding AltModeToggleComboHoldTime}" />
                </DockPanel>
                <ui:ToggleSwitch DockPanel.Dock="Top" IsChecked="{Binding AlwaysStartInNormalRumbleMode}">
                    <Label Content="Start in normal mode" />
                </ui:ToggleSwitch>
            </DockPanel>



        </DockPanel>
    </DataTemplate>

    <!--  Template: rumble heavy strength rescale  -->
    <DataTemplate x:Key="Template_RumbleHeavyStrRescale">
        <DockPanel>
            <!--  Left motor str rescaling ui:ToggleSwitch  -->
            <ui:ToggleSwitch
                Content="Enable rescaling of left motor strength"
                DockPanel.Dock="Top"
                IsChecked="{Binding IsLeftMotorStrRescalingEnabled}" />
            <!--  Upper range controls  -->
            <DockPanel DockPanel.Dock="Top">
                <Label
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Content="New upper range:"
                    DockPanel.Dock="Left" />
                <Slider
                    DockPanel.Dock="Right"
                    IsSnapToTickEnabled="True"
                    Maximum="255"
                    Minimum="2"
                    TickFrequency="1"
                    Value="{Binding LeftMotorStrRescalingUpperRange}" />
            </DockPanel>
            <!--  lower range controls  -->
            <DockPanel DockPanel.Dock="Top">
                <Label
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Content="New lower range:"
                    DockPanel.Dock="Left" />
                <Slider
                    DockPanel.Dock="Right"
                    IsSnapToTickEnabled="True"
                    Maximum="254"
                    Minimum="1"
                    TickFrequency="1"
                    Value="{Binding LeftMotorStrRescalingLowerRange}" />
            </DockPanel>
        </DockPanel>
    </DataTemplate>

    <!--  Template: variable light rumble emulation tuning  -->
    <DataTemplate x:Key="Template_RumbleVariableLightEmuTuning">
        <DockPanel>
            <!--  Conversion upper range  -->
            <DockPanel DockPanel.Dock="Top">
                <Label
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Content="Conversion upper range:"
                    DockPanel.Dock="Left" />
                <Slider
                    DockPanel.Dock="Right"
                    IsSnapToTickEnabled="True"
                    Maximum="255"
                    Minimum="2"
                    TickFrequency="1"
                    Value="{Binding RightRumbleConversionUpperRange}" />
            </DockPanel>
            <!--  Conversion lower range  -->
            <DockPanel DockPanel.Dock="Top">
                <Label
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Content="Conversion lower range:"
                    DockPanel.Dock="Left" />
                <Slider
                    DockPanel.Dock="Right"
                    IsSnapToTickEnabled="True"
                    Maximum="254"
                    Minimum="1"
                    TickFrequency="1"
                    Value="{Binding RightRumbleConversionLowerRange}" />
            </DockPanel>
            <Label
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Content="Force activate right motor when above..."
                DockPanel.Dock="Top" />
            <!--  Forced right motor activation / light rumble threshold  -->
            <DockPanel DockPanel.Dock="Top">
                <ui:ToggleSwitch
                    x:Name="ForcedRMLeftThresholdCheckbox"
                    Content="Left rumble threshold:"
                    DockPanel.Dock="Left"
                    IsChecked="{Binding IsForcedRightMotorHeavyThreasholdEnabled}" />
                <Slider
                    DockPanel.Dock="Right"
                    IsEnabled="{Binding IsChecked, ElementName=ForcedRMLeftThresholdCheckbox}"
                    IsSnapToTickEnabled="True"
                    Maximum="255"
                    Minimum="1"
                    TickFrequency="1"
                    Value="{Binding ForcedRightMotorHeavyThreshold}" />
            </DockPanel>
            <!--  Forced right motor activation / heavy rumble threshold  -->
            <DockPanel DockPanel.Dock="Top">
                <ui:ToggleSwitch
                    x:Name="ForcedRMRightThresholdCheckbox"
                    Content="Right rumble threshold:"
                    DockPanel.Dock="Left"
                    IsChecked="{Binding IsForcedRightMotorLightThresholdEnabled}" />
                <Slider
                    DockPanel.Dock="Right"
                    IsEnabled="{Binding IsChecked, ElementName=ForcedRMRightThresholdCheckbox}"
                    IsSnapToTickEnabled="True"
                    Maximum="255"
                    Minimum="1"
                    TickFrequency="1"
                    Value="{Binding ForcedRightMotorLightThreshold}" />
            </DockPanel>
            <DockPanel DockPanel.Dock="Top" />
        </DockPanel>
    </DataTemplate>

    <!--  Template: Mode_Unique_All  -->
    <DataTemplate x:Key="Template_Unique_All" DataType="devmvvm:GroupModeUniqueVM">
        <StackPanel>
            <DockPanel>
                <Label
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Content="HID Device Mode:"
                    DockPanel.Dock="Left" />
                <ComboBox
                    VerticalAlignment="Center"
                    DockPanel.Dock="Right"
                    ItemsSource="{Binding HIDDeviceModesList}"
                    SelectedItem="{Binding Context, FallbackValue=4}" />
            </DockPanel>
            <!--<ui:ToggleSwitch
                VerticalContentAlignment="Center"
                Content="Allow apps to control LEDs (e.g.: RPCS3)"
                DockPanel.Dock="Top"
                IsChecked="{Binding AllowAppsToControlLEDsInSXSMode}"
                Visibility="{Binding Path=Context, Converter={StaticResource VisibilityPerHIDModeConverterKey}, ConverterParameter=100}" />-->
            <ui:ToggleSwitch
                VerticalContentAlignment="Center"
                Content="Prevent remapping issues in DS4W mode"
                DockPanel.Dock="Top"
                IsChecked="{Binding PreventRemappingConflictsInDS4WMode}"
                Visibility="{Binding Path=Context, Converter={StaticResource VisibilityPerHIDModeConverterKey}, ConverterParameter=1000}" />
            <!--  Pressure buttons mode  -->
            <DockPanel Visibility="{Binding Path=Context, Converter={StaticResource VisibilityPerHIDModeConverterKey}, ConverterParameter=11}">
                <Label
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Content="Pressure buttons mode:"
                    DockPanel.Dock="Left" />
                <ComboBox
                    VerticalAlignment="Center"
                    DockPanel.Dock="Right"
                    ItemsSource="{Binding ListOfPressureModes}"
                    SelectedItem="{Binding PressureExposureMode, FallbackValue=2}" />
            </DockPanel>
            <!--  DPAD modes  -->
            <DockPanel Visibility="{Binding Path=Context, Converter={StaticResource VisibilityPerHIDModeConverterKey}, ConverterParameter=11}">
                <Label
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Content="Expose D-Pad as:"
                    DockPanel.Dock="Left" />
                <ComboBox
                    VerticalAlignment="Center"
                    DockPanel.Dock="Right"
                    ItemsSource="{Binding ListOfDPadModes}"
                    SelectedItem="{Binding DPadExposureMode, FallbackValue=0}" />
            </DockPanel>
        </StackPanel>
    </DataTemplate>

    <!--  Template: Output Rate Control  -->
    <DataTemplate x:Key="Template_OutputRateControl" DataType="devmvvm:GroupOutRepControlVM">
        <DockPanel>
            <!--  Output rate enabler  -->
            <ui:ToggleSwitch
                Content="Limit maximum output rate when wireless (in ms)"
                DockPanel.Dock="Top"
                IsChecked="{Binding IsOutputReportRateControlEnabled}" />
            <!--  Max output rate adjuster  -->
            <DockPanel DockPanel.Dock="Top">
                <Label
                    VerticalAlignment="Center"
                    Content="Max output rate:"
                    DockPanel.Dock="Left" />
                <Label
                    VerticalAlignment="Center"
                    Content="{Binding MaxOutputRate}"
                    DockPanel.Dock="Left" />
                <Slider
                    DockPanel.Dock="Left"
                    IsSnapToTickEnabled="True"
                    Maximum="255"
                    Minimum="1"
                    TickFrequency="1"
                    Value="{Binding MaxOutputRate}" />
            </DockPanel>
            <!--  Output report detuplicator  -->
            <ui:ToggleSwitch
                Content="Enable output report deduplicator"
                DockPanel.Dock="Top"
                IsChecked="{Binding IsOutputReportDeduplicatorEnabled}" />
        </DockPanel>
    </DataTemplate>



</ResourceDictionary>
